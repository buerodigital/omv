version: '3.3'

services:

  nginx_proxy:
    image: jc21/nginx-proxy-manager:latest
    container_name: nginx_proxy
    ports:
      - 80:80
      - 81:81
      - 443:443
    volumes:
      - nginx_proxy_data:/data
      - nginx_proxy_letsencrypt:/etc/letsencrypt
    restart: unless-stopped

  authelia:
    image: authelia/authelia
    container_name: authelia
    volumes:
      - auth_config:/config 
    ports:
      - 9091:9091
    environment:
      - TZ=Europe/Berlin
    restart: unless-stopped

  heimdall:
    image: lscr.io/linuxserver/heimdall:latest
    container_name: heimdall
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Berlin
    volumes:
      - heimdall_config:/config
    ports:
      - 10001:80
#     - 10401:443
    restart: unless-stopped

  mariadb:
    image: linuxserver/mariadb:amd64-alpine-version-10.5.12-r0
    container_name: mariadb
    environment:
      - PUID=1000
      - PGID=1000
      - MYSQL_ROOT_PASSWORD=Chicago.999
      - TZ=Europe/Berlin
    volumes:
      - mariadb_config:/config
    ports:
      - 3306:3306
    restart: unless-stopped

  adminer:
    image: adminer:4.8.1-standalone
    container_name: adminer
    depends_on:
      - db
    ports:
      - 8080:8080
    restart: unless-stopped

volumes:
  nginx_proxy_data:
  nginx_proxy_letsencrypt:
  auth_config:
  heimdall_config:
  mariadb_config:  
  
  
  
